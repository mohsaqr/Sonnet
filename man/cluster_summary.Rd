% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cluster-metrics.R
\name{cluster_summary}
\alias{cluster_summary}
\alias{csum}
\title{Cluster Summary Statistics}
\usage{
cluster_summary(
  x,
  clusters = NULL,
  method = c("sum", "mean", "median", "max", "min", "density", "geomean"),
  directed = TRUE,
  as_tna = FALSE
)

csum(
  x,
  clusters = NULL,
  method = c("sum", "mean", "median", "max", "min", "density", "geomean"),
  directed = TRUE,
  as_tna = FALSE
)
}
\arguments{
\item{x}{Network input: numeric adjacency matrix, cograph_network, or tna object.
For matrices, node names should be set as row/colnames.}

\item{clusters}{Cluster assignments. Can be:
\itemize{
\item NULL (default): Auto-detect from cograph_network's nodes (looks for
'clusters', 'cluster', 'group', or 'groups' column)
\item A vector: Cluster membership per node (same order as nodes)
\item A named list: Group name -> node labels mapping
}}

\item{method}{Aggregation method: "sum", "mean", "median", "max", "min",
"density", "geomean"}

\item{directed}{Logical; if TRUE, treat network as directed}

\item{as_tna}{Logical; if TRUE, return a tna-compatible object instead of
cluster_summary. Default FALSE.}
}
\value{
A \code{cluster_summary} object with:
\item{tna}{Row-normalized transition matrix (rows sum to 1)}
\item{inits}{Initial state distribution (sums to 1)}
\item{between_weights}{Matrix of between-cluster aggregated weights}
\item{within_weights}{Vector of within-cluster aggregated weights}
\item{cluster_sizes}{Number of nodes per cluster}
\item{cluster_names}{Names of clusters}
\item{method}{Aggregation method used}
\item{directed}{Whether network was treated as directed}

If \code{as_tna = TRUE}, returns a tna-compatible object with:
\item{weights}{Transition matrix (same as tna above)}
\item{inits}{Initial state distribution}
\item{labels}{Cluster names}
}
\description{
Computes aggregated edge weights between and within clusters.
Results are numerically identical to igraph's contract_vertices + simplify.
}
\examples{
# Create adjacency matrix
mat <- matrix(runif(100), 10, 10)
diag(mat) <- 0
rownames(mat) <- colnames(mat) <- LETTERS[1:10]

# Define clusters as vector
clusters <- c(1, 1, 1, 2, 2, 2, 3, 3, 3, 3)
result <- cluster_summary(mat, clusters)

# Or as named list
clusters <- list(
  G1 = c("A", "B", "C"),
  G2 = c("D", "E", "F"),
  G3 = c("G", "H", "I", "J")
)
result <- cluster_summary(mat, clusters)

# With cograph_network - auto-detect clusters from nodes
net <- as_cograph(mat)
net$nodes$clusters <- c(1, 1, 1, 2, 2, 2, 3, 3, 3, 3)
result <- cluster_summary(net)  # No clusters arg needed
}
