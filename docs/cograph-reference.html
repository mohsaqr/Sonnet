<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cograph Package Reference - Complete Documentation</title>
    <style>
        :root {
            --primary: #2563eb;
            --primary-dark: #1d4ed8;
            --secondary: #059669;
            --accent: #7c3aed;
            --warning: #d97706;
            --danger: #dc2626;
            --bg: #f8fafc;
            --card-bg: #ffffff;
            --text: #1e293b;
            --text-muted: #64748b;
            --border: #e2e8f0;
            --code-bg: #f1f5f9;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
            font-size: 15px;
        }
        .container { max-width: 1400px; margin: 0 auto; padding: 20px; }

        /* Header */
        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            color: white;
            padding: 40px 20px;
            text-align: center;
            margin-bottom: 30px;
        }
        header h1 { font-size: 2.5rem; margin-bottom: 10px; }
        header .subtitle { font-size: 1.2rem; opacity: 0.9; }
        header .version {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            padding: 4px 12px;
            border-radius: 20px;
            margin-top: 15px;
            font-size: 0.9rem;
        }

        /* Navigation */
        nav {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
            position: sticky;
            top: 10px;
            z-index: 100;
        }
        nav h3 { margin-bottom: 15px; color: var(--primary); }
        .nav-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 8px;
        }
        .nav-grid a {
            color: var(--text);
            text-decoration: none;
            padding: 8px 12px;
            border-radius: 6px;
            background: var(--bg);
            font-size: 0.9rem;
            transition: all 0.2s;
        }
        .nav-grid a:hover { background: var(--primary); color: white; }

        /* Sections */
        section {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 25px;
        }
        section h2 {
            color: var(--primary);
            font-size: 1.5rem;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--border);
        }
        section h3 {
            color: var(--text);
            font-size: 1.2rem;
            margin: 25px 0 15px 0;
        }
        section h4 {
            color: var(--text-muted);
            font-size: 1rem;
            margin: 20px 0 10px 0;
        }

        /* Code */
        code {
            font-family: 'SF Mono', Consolas, monospace;
            background: var(--code-bg);
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.9em;
        }
        pre {
            background: #1e293b;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
        }
        pre code { background: none; padding: 0; color: inherit; }
        .keyword { color: #c084fc; }
        .string { color: #86efac; }
        .comment { color: #94a3b8; }
        .function { color: #67e8f9; }
        .number { color: #fde68a; }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 0.95rem;
        }
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }
        th {
            background: var(--bg);
            font-weight: 600;
            color: var(--text);
        }
        tr:hover { background: var(--bg); }

        /* Function Cards */
        .func-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .func-card {
            background: var(--bg);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 15px;
            transition: all 0.2s;
        }
        .func-card:hover {
            border-color: var(--primary);
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.1);
        }
        .func-card h4 {
            color: var(--primary);
            margin: 0 0 8px 0;
            font-family: 'SF Mono', Consolas, monospace;
        }
        .func-card p { color: var(--text-muted); font-size: 0.9rem; margin: 0; }

        /* Tags */
        .tag {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
        }
        .tag-core { background: #dbeafe; color: #1d4ed8; }
        .tag-plot { background: #dcfce7; color: #166534; }
        .tag-valid { background: #fef3c7; color: #92400e; }
        .tag-util { background: #f3e8ff; color: #7c3aed; }
        .tag-r6 { background: #ffe4e6; color: #be123c; }
        .tag-s3 { background: #e0f2fe; color: #0369a1; }
        .tag-easy { background: #d1fae5; color: #065f46; }

        /* Naming Convention Box */
        .naming-box {
            background: linear-gradient(135deg, #eff6ff 0%, #f0fdf4 100%);
            border: 2px solid var(--primary);
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
        }
        .naming-box h3 {
            color: var(--primary);
            margin-top: 0;
        }

        /* Comparison Table */
        .compare-table {
            margin: 20px 0;
        }
        .compare-table td:first-child {
            font-weight: 600;
            color: var(--primary);
        }
        .compare-table .old { color: var(--danger); text-decoration: line-through; }
        .compare-table .new { color: var(--secondary); font-weight: 600; }

        /* Parameter Lists */
        .param-list { margin: 15px 0; }
        .param {
            display: grid;
            grid-template-columns: 200px 1fr;
            gap: 10px;
            padding: 10px 0;
            border-bottom: 1px solid var(--border);
        }
        .param:last-child { border-bottom: none; }
        .param-name {
            font-family: 'SF Mono', Consolas, monospace;
            color: var(--primary);
            font-weight: 500;
        }
        .param-desc { color: var(--text-muted); }

        /* Info boxes */
        .info-box {
            padding: 15px 20px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid;
        }
        .info-box.note { background: #eff6ff; border-color: var(--primary); }
        .info-box.tip { background: #ecfdf5; border-color: var(--secondary); }
        .info-box.warn { background: #fffbeb; border-color: var(--warning); }
        .info-box.philosophy { background: #faf5ff; border-color: var(--accent); }

        /* Grid Layout */
        .two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .three-col { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; }
        @media (max-width: 900px) { .three-col { grid-template-columns: 1fr; } }
        @media (max-width: 768px) { .two-col { grid-template-columns: 1fr; } }

        /* Highlight */
        .highlight {
            background: linear-gradient(120deg, #fef3c7 0%, #fde68a 100%);
            padding: 2px 6px;
            border-radius: 4px;
        }

        /* Architecture Diagram */
        .arch-diagram {
            background: #1e293b;
            color: #e2e8f0;
            padding: 25px;
            border-radius: 8px;
            font-family: 'SF Mono', Consolas, monospace;
            font-size: 0.85rem;
            white-space: pre;
            overflow-x: auto;
            line-height: 1.4;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 30px;
            color: var(--text-muted);
            margin-top: 40px;
        }

        /* Ease indicators */
        .ease-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            margin: 10px 0;
        }
        .ease-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--secondary);
        }
        .ease-label { font-weight: 500; color: var(--secondary); }
    </style>
</head>
<body>
    <header>
        <h1>cograph</h1>
        <div class="subtitle">Modern Network Visualization for R</div>
        <div class="version">Version 1.5.2</div>
    </header>

    <div class="container">
        <nav>
            <h3>Quick Navigation</h3>
            <div class="nav-grid">
                <a href="#philosophy">Design Philosophy</a>
                <a href="#naming">Naming Convention</a>
                <a href="#plotting">Plotting Functions</a>
                <a href="#statistical">Statistical Plotting</a>
                <a href="#validation">Validation</a>
                <a href="#comparison">Network Comparison</a>
                <a href="#core">Core Functions</a>
                <a href="#centrality">Centrality</a>
                <a href="#tna">TNA Integration</a>
                <a href="#themes">Themes & Palettes</a>
                <a href="#architecture">Architecture</a>
            </div>
        </nav>

        <!-- Philosophy Section -->
        <section id="philosophy">
            <h2>Design Philosophy: Simplicity First</h2>

            <div class="info-box philosophy">
                <strong>Core Principle:</strong> Network visualization should be as simple as <code>splot(matrix)</code> while offering deep customization when needed.
            </div>

            <div class="three-col">
                <div class="func-card">
                    <h4>One Function to Plot</h4>
                    <p><code>splot()</code> handles everything - matrices, igraph, tna, edge lists. No type conversion needed.</p>
                </div>
                <div class="func-card">
                    <h4>Sensible Defaults</h4>
                    <p>Auto-detects directedness, scales edges by weight, positions nodes intelligently. Works out of the box.</p>
                </div>
                <div class="func-card">
                    <h4>Progressive Complexity</h4>
                    <p>Start simple, add customization as needed. Every parameter has a reasonable default.</p>
                </div>
            </div>

            <h3>The Simplest Possible API</h3>
<pre><code><span class="comment"># This is all you need:</span>
<span class="function">splot</span>(matrix)

<span class="comment"># Or with any supported format:</span>
<span class="function">splot</span>(igraph_object)
<span class="function">splot</span>(tna_model)
<span class="function">splot</span>(edge_list_dataframe)

<span class="comment"># Add customization only when needed:</span>
<span class="function">splot</span>(matrix,
      layout = <span class="string">"circle"</span>,
      theme = <span class="string">"dark"</span>,
      node_size = <span class="number">5</span>)</code></pre>
        </section>

        <!-- Naming Convention Section -->
        <section id="naming">
            <h2>Naming Convention Strategy</h2>

            <div class="naming-box">
                <h3>The "sn_" Prefix: Simple Network</h3>
                <p>All pipe-friendly transformation functions use the <code>sn_</code> prefix, standing for <strong>"simple network"</strong> or <strong>"splot network"</strong>. This creates a consistent, discoverable API.</p>
            </div>

            <h3>Function Naming Patterns</h3>
            <table>
                <tr>
                    <th>Pattern</th>
                    <th>Purpose</th>
                    <th>Examples</th>
                </tr>
                <tr>
                    <td><code>splot*()</code></td>
                    <td>Primary plotting functions</td>
                    <td><code>splot()</code>, <code>soplot()</code></td>
                </tr>
                <tr>
                    <td><code>sn_*()</code></td>
                    <td>Pipe-friendly transformations</td>
                    <td><code>sn_layout()</code>, <code>sn_theme()</code>, <code>sn_nodes()</code>, <code>sn_edges()</code></td>
                </tr>
                <tr>
                    <td><code>plot_*()</code></td>
                    <td>Specialized plot types</td>
                    <td><code>plot_compare()</code>, <code>plot_heatmap()</code>, <code>plot_mlna()</code></td>
                </tr>
                <tr>
                    <td><code>to_*()</code></td>
                    <td>Format conversion (export)</td>
                    <td><code>to_igraph()</code>, <code>to_matrix()</code>, <code>to_df()</code></td>
                </tr>
                <tr>
                    <td><code>as_*()</code></td>
                    <td>Format conversion (import)</td>
                    <td><code>as_cograph()</code></td>
                </tr>
                <tr>
                    <td><code>get_*()</code> / <code>set_*()</code></td>
                    <td>Accessors</td>
                    <td><code>get_nodes()</code>, <code>set_edges()</code>, <code>n_nodes()</code></td>
                </tr>
                <tr>
                    <td><code>*_*()</code> (verb_noun)</td>
                    <td>Actions</td>
                    <td><code>filter_edges()</code>, <code>detect_communities()</code></td>
                </tr>
            </table>

            <h3>Parameter Naming: snake_case Throughout</h3>
            <p>All parameters use consistent <code>snake_case</code> naming, making them easy to remember and type:</p>

            <div class="two-col">
                <div>
                    <h4>Node Parameters</h4>
                    <ul>
                        <li><code>node_size</code>, <code>node_fill</code>, <code>node_shape</code></li>
                        <li><code>node_border_color</code>, <code>node_border_width</code></li>
                        <li><code>node_alpha</code></li>
                        <li><code>donut_fill</code>, <code>donut_color</code>, <code>donut_inner_ratio</code></li>
                        <li><code>pie_values</code>, <code>pie_colors</code></li>
                    </ul>
                </div>
                <div>
                    <h4>Edge Parameters</h4>
                    <ul>
                        <li><code>edge_color</code>, <code>edge_width</code>, <code>edge_style</code></li>
                        <li><code>edge_alpha</code>, <code>edge_labels</code></li>
                        <li><code>edge_label_size</code>, <code>edge_label_color</code></li>
                        <li><code>edge_ci</code>, <code>edge_ci_scale</code>, <code>edge_ci_alpha</code></li>
                        <li><code>arrow_size</code>, <code>arrow_angle</code></li>
                    </ul>
                </div>
            </div>

            <h3>Comparison with Other Packages</h3>
            <table class="compare-table">
                <tr>
                    <th>Concept</th>
                    <th>qgraph</th>
                    <th>igraph</th>
                    <th>cograph</th>
                </tr>
                <tr>
                    <td>Node size</td>
                    <td class="old">vsize</td>
                    <td class="old">vertex.size</td>
                    <td class="new">node_size</td>
                </tr>
                <tr>
                    <td>Node color</td>
                    <td class="old">color</td>
                    <td class="old">vertex.color</td>
                    <td class="new">node_fill</td>
                </tr>
                <tr>
                    <td>Edge width</td>
                    <td class="old">esize</td>
                    <td class="old">edge.width</td>
                    <td class="new">edge_width</td>
                </tr>
                <tr>
                    <td>Edge labels</td>
                    <td class="old">edge.labels</td>
                    <td class="old">edge.label</td>
                    <td class="new">edge_labels</td>
                </tr>
                <tr>
                    <td>Donut fill</td>
                    <td class="old">pie (complex list)</td>
                    <td>N/A</td>
                    <td class="new">donut_fill (0-1 value)</td>
                </tr>
            </table>

            <div class="info-box tip">
                <strong>Discoverability:</strong> Type <code>sn_</code> and press Tab in RStudio to see all transformation functions. Type <code>node_</code> or <code>edge_</code> to autocomplete parameters.
            </div>
        </section>

        <!-- Plotting Section -->
        <section id="plotting">
            <h2>Plotting Functions</h2>

            <h3>Primary Plot Function: splot()</h3>
            <div class="ease-indicator">
                <span class="ease-dot"></span>
                <span class="ease-label">Beginner-friendly</span>
            </div>

            <p><code>splot()</code> is the main plotting function. It accepts any network format and produces publication-ready visualizations using base R graphics.</p>

<pre><code><span class="comment"># Simplest usage - just pass your data</span>
<span class="function">splot</span>(adjacency_matrix)
<span class="function">splot</span>(tna_model)
<span class="function">splot</span>(igraph_object)

<span class="comment"># With common customizations</span>
<span class="function">splot</span>(mat,
      layout = <span class="string">"spring"</span>,       <span class="comment"># Layout algorithm</span>
      theme = <span class="string">"dark"</span>,          <span class="comment"># Visual theme</span>
      node_size = <span class="number">5</span>,           <span class="comment"># Node size</span>
      node_fill = <span class="string">"steelblue"</span>, <span class="comment"># Node color</span>
      edge_labels = <span class="keyword">TRUE</span>,      <span class="comment"># Show edge weights</span>
      title = <span class="string">"My Network"</span>)   <span class="comment"># Plot title</span></code></pre>

            <h3>Three Rendering Backends</h3>
            <table>
                <tr>
                    <th>Function</th>
                    <th>Backend</th>
                    <th>Best For</th>
                    <th>Output</th>
                </tr>
                <tr>
                    <td><code>splot()</code></td>
                    <td>Base R graphics</td>
                    <td>Fast, publication-ready, no dependencies</td>
                    <td>Plot to device</td>
                </tr>
                <tr>
                    <td><code>soplot()</code></td>
                    <td>Grid graphics</td>
                    <td>Complex compositions, better legends</td>
                    <td>Grid grob</td>
                </tr>
                <tr>
                    <td><code>sn_ggplot()</code></td>
                    <td>ggplot2</td>
                    <td>Editable objects, combining with other plots</td>
                    <td>ggplot object</td>
                </tr>
            </table>

            <h3>Pipe-Friendly Workflow</h3>
            <p>Build complex visualizations step by step:</p>

<pre><code><span class="function">cograph</span>(mat) |>
  <span class="function">sn_layout</span>(<span class="string">"circle"</span>) |>           <span class="comment"># Set layout</span>
  <span class="function">sn_theme</span>(<span class="string">"dark"</span>) |>              <span class="comment"># Apply theme</span>
  <span class="function">sn_nodes</span>(fill = <span class="string">"coral"</span>,
           size = <span class="number">0.08</span>) |>          <span class="comment"># Style nodes</span>
  <span class="function">sn_edges</span>(color = <span class="string">"weight"</span>,
           width = <span class="string">"weight"</span>) |>     <span class="comment"># Style edges</span>
  <span class="function">splot</span>(title = <span class="string">"Styled Network"</span>)</code></pre>

            <h3>Specialized Plot Types</h3>
            <div class="func-grid">
                <div class="func-card">
                    <h4>plot_compare() <span class="tag tag-plot">comparison</span></h4>
                    <p>Visualize differences between two networks. Green = positive, red = negative.</p>
                </div>
                <div class="func-card">
                    <h4>plot_heatmap() <span class="tag tag-plot">heatmap</span></h4>
                    <p>Network as heatmap with clustering support and customizable color scales.</p>
                </div>
                <div class="func-card">
                    <h4>plot_mlna() <span class="tag tag-plot">multilevel</span></h4>
                    <p>Multilevel 3D perspective view with stacked layers.</p>
                </div>
                <div class="func-card">
                    <h4>plot_htna() <span class="tag tag-plot">bipartite</span></h4>
                    <p>Heterogeneous/bipartite network visualization.</p>
                </div>
                <div class="func-card">
                    <h4>plot_comparison_heatmap()</h4>
                    <p>Side-by-side heatmap comparison of weight matrices.</p>
                </div>
                <div class="func-card">
                    <h4>tna_animate() <span class="tag tag-plot">animation</span></h4>
                    <p>Create animated GIF of network evolution over time windows.</p>
                </div>
            </div>
        </section>

        <!-- Statistical Plotting Section -->
        <section id="statistical">
            <h2>Statistical Plotting</h2>

            <div class="info-box philosophy">
                <strong>Philosophy:</strong> Validation results should be <em>directly plottable</em>. Run <code>bootstrap()</code>, then <code>splot()</code> the result. No manual styling needed.
            </div>

            <h3>Bootstrap Visualization</h3>
            <p>Bootstrap analysis results can be plotted directly with <code>splot()</code>, automatically styling significant vs. non-significant edges:</p>

<pre><code><span class="comment"># Run bootstrap analysis</span>
boot <- <span class="function">bootstrap</span>(tna_model, iter = <span class="number">1000</span>, level = <span class="number">0.05</span>)

<span class="comment"># Plot directly - styling is automatic!</span>
<span class="function">splot</span>(boot)

<span class="comment"># The plot automatically shows:</span>
<span class="comment"># - Significant edges: solid dark blue, bold labels with stars</span>
<span class="comment"># - Non-sig edges: dashed pink, plain labels</span>
<span class="comment"># - CI uncertainty underlays</span></code></pre>

            <h3>Default Bootstrap Visualization Style</h3>
            <table>
                <tr>
                    <th>Element</th>
                    <th>Significant Edges</th>
                    <th>Non-Significant Edges</th>
                </tr>
                <tr>
                    <td>Edge color</td>
                    <td style="color: #003355; font-weight: bold;">Dark blue (#003355)</td>
                    <td style="color: #E091AA;">Soft pink (#E091AA)</td>
                </tr>
                <tr>
                    <td>Line style</td>
                    <td>Solid</td>
                    <td>Dashed</td>
                </tr>
                <tr>
                    <td>Label format</td>
                    <td><strong>0.45***</strong> (bold with stars)</td>
                    <td>0.12 (plain)</td>
                </tr>
                <tr>
                    <td>Label alpha</td>
                    <td>0.7 (prominent)</td>
                    <td>0.4 (subtle)</td>
                </tr>
                <tr>
                    <td>CI underlay scale</td>
                    <td>1.0 (narrow)</td>
                    <td>3.0 (wide, showing uncertainty)</td>
                </tr>
                <tr>
                    <td>Rendering priority</td>
                    <td>On top</td>
                    <td>Behind</td>
                </tr>
            </table>

            <h3>Confidence Interval Visualization</h3>
            <p>Edge uncertainty can be visualized using CI underlays:</p>

<pre><code><span class="comment"># Manual CI visualization</span>
<span class="function">splot</span>(net,
      edge_ci = ci_widths,        <span class="comment"># Vector of CI widths (0-1)</span>
      edge_ci_scale = <span class="number">2</span>,          <span class="comment"># Width multiplier for underlay</span>
      edge_ci_alpha = <span class="number">0.15</span>,       <span class="comment"># Transparency</span>
      edge_ci_color = <span class="keyword">NA</span>,         <span class="comment"># NA = use edge color</span>
      edge_ci_style = <span class="number">2</span>)          <span class="comment"># 1=solid, 2=dashed</span></code></pre>

            <h3>Permutation Test Visualization</h3>
<pre><code><span class="comment"># Compare two networks statistically</span>
perm <- <span class="function">permutation_test</span>(tna1, tna2, iter = <span class="number">1000</span>)

<span class="comment"># Plot the result</span>
<span class="function">plot</span>(perm)  <span class="comment"># Shows edge-wise p-values</span>

<span class="comment"># Or use plot_compare for visual difference</span>
<span class="function">plot_compare</span>(tna1, tna2)  <span class="comment"># Green/red difference network</span></code></pre>

            <h3>Disparity Filter Visualization</h3>
<pre><code><span class="comment"># Extract network backbone</span>
backbone <- <span class="function">disparity_filter</span>(mat, level = <span class="number">0.05</span>)

<span class="comment"># Plot the filtered network</span>
<span class="function">splot</span>(backbone)

<span class="comment"># Or visualize which edges are significant</span>
<span class="function">plot</span>(backbone)  <span class="comment"># Shows backbone structure</span></code></pre>

            <h3>Centrality Stability Visualization</h3>
<pre><code><span class="comment"># Estimate centrality stability</span>
cs <- <span class="function">estimate_cs</span>(tna_model,
                  measures = <span class="function">c</span>(<span class="string">"InStrength"</span>, <span class="string">"OutStrength"</span>, <span class="string">"Betweenness"</span>),
                  iter = <span class="number">1000</span>)

<span class="comment"># Plot stability curves</span>
<span class="function">plot</span>(cs)  <span class="comment"># Shows correlation vs. drop proportion</span>

<span class="comment"># Print CS-coefficients</span>
<span class="function">print</span>(cs)
<span class="comment"># CS(InStrength) = 0.75</span>
<span class="comment"># CS(OutStrength) = 0.68</span>
<span class="comment"># CS(Betweenness) = 0.52</span></code></pre>
        </section>

        <!-- Validation Section -->
        <section id="validation">
            <h2>Validation Functions</h2>

            <p>cograph provides statistical validation tools that match the tna package methodology, ensuring reproducible and rigorous network analysis.</p>

            <div class="func-grid">
                <div class="func-card">
                    <h4>bootstrap() <span class="tag tag-valid">resampling</span></h4>
                    <p>Edge significance via bootstrap resampling. Returns p-values, CIs, and significance matrix.</p>
                </div>
                <div class="func-card">
                    <h4>permutation_test() <span class="tag tag-valid">comparison</span></h4>
                    <p>Statistical comparison of two networks. Tests edge weights and centrality differences.</p>
                </div>
                <div class="func-card">
                    <h4>estimate_cs() <span class="tag tag-valid">stability</span></h4>
                    <p>Centrality stability coefficient. Tests how robust centrality rankings are to case dropping.</p>
                </div>
                <div class="func-card">
                    <h4>disparity_filter() <span class="tag tag-valid">backbone</span></h4>
                    <p>Backbone extraction using Serrano et al. (2009) method. Identifies statistically significant edges.</p>
                </div>
            </div>

            <h3>bootstrap() - Edge Significance</h3>
<pre><code>boot <- <span class="function">bootstrap</span>(x,                     <span class="comment"># tna, group_tna, or cograph_network</span>
                  iter = <span class="number">1000</span>,            <span class="comment"># Bootstrap iterations</span>
                  level = <span class="number">0.05</span>,           <span class="comment"># Significance level</span>
                  method = <span class="string">"stability"</span>,   <span class="comment"># "stability" or "threshold"</span>
                  consistency_range = <span class="function">c</span>(<span class="number">0.75</span>, <span class="number">1.25</span>))  <span class="comment"># For stability method</span>

<span class="comment"># Returns cograph_boot object with:</span>
boot$weights          <span class="comment"># Original weights</span>
boot$weights_sig      <span class="comment"># Significant weights only</span>
boot$p_values         <span class="comment"># Edge p-values</span>
boot$ci_lower         <span class="comment"># Lower CI bound</span>
boot$ci_upper         <span class="comment"># Upper CI bound</span>
boot$significant      <span class="comment"># Logical significance matrix</span></code></pre>

            <h3>permutation_test() - Network Comparison</h3>
<pre><code>perm <- <span class="function">permutation_test</span>(x, y,           <span class="comment"># Two tna objects</span>
                        iter = <span class="number">1000</span>,     <span class="comment"># Permutation iterations</span>
                        adjust = <span class="string">"none"</span>, <span class="comment"># P-value adjustment</span>
                        paired = <span class="keyword">FALSE</span>,  <span class="comment"># Paired test?</span>
                        level = <span class="number">0.05</span>,    <span class="comment"># Significance level</span>
                        measures = <span class="function">c</span>(<span class="string">"InStrength"</span>, <span class="string">"OutStrength"</span>))

<span class="comment"># Returns tna_permutation object with:</span>
perm$edge_p           <span class="comment"># Edge-wise p-values</span>
perm$edge_diff        <span class="comment"># Edge differences (x - y)</span>
perm$centrality_p     <span class="comment"># Centrality p-values</span></code></pre>

            <h3>estimate_cs() - Centrality Stability</h3>
<pre><code>cs <- <span class="function">estimate_cs</span>(x,                    <span class="comment"># tna object</span>
                  measures = <span class="function">c</span>(<span class="string">"InStrength"</span>, <span class="string">"OutStrength"</span>, <span class="string">"Betweenness"</span>),
                  iter = <span class="number">1000</span>,           <span class="comment"># Iterations per drop level</span>
                  drop_prop = <span class="function">seq</span>(<span class="number">0.1</span>, <span class="number">0.9</span>, by = <span class="number">0.1</span>),  <span class="comment"># Drop proportions</span>
                  threshold = <span class="number">0.7</span>,       <span class="comment"># Correlation threshold</span>
                  certainty = <span class="number">0.95</span>)      <span class="comment"># Certainty level</span>

<span class="comment"># Returns tna_stability object with CS-coefficients</span>
<span class="comment"># CS > 0.5 is acceptable, CS > 0.7 is good</span></code></pre>

            <h3>disparity_filter() - Backbone Extraction</h3>
<pre><code>backbone <- <span class="function">disparity_filter</span>(x,         <span class="comment"># Matrix, tna, or cograph_network</span>
                             level = <span class="number">0.05</span>) <span class="comment"># Significance level</span>

<span class="comment"># Returns tna_disparity object with:</span>
backbone$backbone     <span class="comment"># Binary matrix of significant edges</span>
backbone$p_values     <span class="comment"># Edge p-values</span>
backbone$weights      <span class="comment"># Filtered weight matrix</span></code></pre>

            <h3>Enabling Validation for Non-TNA Networks</h3>
<pre><code><span class="comment"># For matrices/igraph without raw data:</span>
net <- <span class="function">as_cograph</span>(my_matrix)
net <- <span class="function">set_raw_data</span>(net, my_raw_data)   <span class="comment"># Attach sequence data</span>

<span class="comment"># Now validation works:</span>
boot <- <span class="function">bootstrap</span>(net, iter = <span class="number">1000</span>)</code></pre>
        </section>

        <!-- Network Comparison Section -->
        <section id="comparison">
            <h2>Network Comparison</h2>

            <h3>plot_compare() - Visual Difference</h3>
            <p>Visualizes the element-wise difference between two networks (x - y):</p>

<pre><code><span class="comment"># Compare two matrices</span>
<span class="function">plot_compare</span>(mat1, mat2)

<span class="comment"># Compare two tna models (auto-extracts inits for donuts)</span>
<span class="function">plot_compare</span>(tna_model1, tna_model2)

<span class="comment"># Compare groups from group_tna</span>
<span class="function">plot_compare</span>(group_tna_model)              <span class="comment"># All pairs</span>
<span class="function">plot_compare</span>(group_tna_model, i = <span class="number">1</span>, j = <span class="number">2</span>) <span class="comment"># Specific pair</span></code></pre>

            <h3>Color Convention</h3>
            <table>
                <tr>
                    <th>Color</th>
                    <th>Meaning</th>
                    <th>Hex Code</th>
                </tr>
                <tr>
                    <td style="background: #009900; color: white; padding: 8px;">Green</td>
                    <td>Positive difference (x > y)</td>
                    <td><code>#009900</code></td>
                </tr>
                <tr>
                    <td style="background: #C62828; color: white; padding: 8px;">Red</td>
                    <td>Negative difference (x < y)</td>
                    <td><code>#C62828</code></td>
                </tr>
            </table>

            <h3>plot_compare() Parameters</h3>
            <div class="param-list">
                <div class="param">
                    <span class="param-name">x, y</span>
                    <span class="param-desc">Networks to compare (matrix, tna, igraph, cograph_network)</span>
                </div>
                <div class="param">
                    <span class="param-name">i, j</span>
                    <span class="param-desc">Group indices for group_tna comparison</span>
                </div>
                <div class="param">
                    <span class="param-name">pos_color, neg_color</span>
                    <span class="param-desc">Colors for positive/negative differences</span>
                </div>
                <div class="param">
                    <span class="param-name">show_inits</span>
                    <span class="param-desc">Show node-level differences as donuts (auto if inits available)</span>
                </div>
                <div class="param">
                    <span class="param-name">inits_x, inits_y</span>
                    <span class="param-desc">Node values for donut visualization</span>
                </div>
            </div>

            <h3>plot_comparison_heatmap() - Side-by-Side Heatmaps</h3>
<pre><code><span class="function">plot_comparison_heatmap</span>(mat1, mat2,
                        titles = <span class="function">c</span>(<span class="string">"Network A"</span>, <span class="string">"Network B"</span>),
                        colors = <span class="string">"viridis"</span>)</code></pre>
        </section>

        <!-- Core Functions Section -->
        <section id="core">
            <h2>Core Functions</h2>

            <h3>Network Creation</h3>
            <table>
                <tr>
                    <th>Function</th>
                    <th>Purpose</th>
                    <th>Returns</th>
                </tr>
                <tr>
                    <td><code>cograph(input, layout, ...)</code></td>
                    <td>Create network with computed layout</td>
                    <td>cograph_network with layout</td>
                </tr>
                <tr>
                    <td><code>as_cograph(x)</code></td>
                    <td>Convert any format to cograph_network</td>
                    <td>cograph_network (no layout)</td>
                </tr>
            </table>

            <h3>Pipe Functions (sn_*)</h3>
            <table>
                <tr>
                    <th>Function</th>
                    <th>Purpose</th>
                </tr>
                <tr>
                    <td><code>sn_layout(net, layout, seed)</code></td>
                    <td>Set/change layout algorithm</td>
                </tr>
                <tr>
                    <td><code>sn_theme(net, theme)</code></td>
                    <td>Apply visual theme</td>
                </tr>
                <tr>
                    <td><code>sn_palette(net, palette, target, by)</code></td>
                    <td>Apply color palette by attribute</td>
                </tr>
                <tr>
                    <td><code>sn_nodes(net, fill, size, shape, ...)</code></td>
                    <td>Set node aesthetics</td>
                </tr>
                <tr>
                    <td><code>sn_edges(net, color, width, style, ...)</code></td>
                    <td>Set edge aesthetics</td>
                </tr>
                <tr>
                    <td><code>sn_save(net, file, width, height)</code></td>
                    <td>Save to file (PNG, PDF, SVG)</td>
                </tr>
            </table>

            <h3>Getter/Setter Functions</h3>
            <div class="two-col">
                <div>
                    <h4>Getters</h4>
                    <ul>
                        <li><code>get_nodes(net)</code> - Node data frame</li>
                        <li><code>get_edges(net)</code> - Edge data frame</li>
                        <li><code>get_labels(net)</code> - Node labels</li>
                        <li><code>get_layout(net)</code> - Layout coordinates</li>
                        <li><code>get_theme(net)</code> - Theme object</li>
                        <li><code>get_groups(net)</code> - Group assignments</li>
                        <li><code>get_tna_model(net)</code> - Original tna object</li>
                        <li><code>get_raw_data(net)</code> - Raw sequence data</li>
                        <li><code>n_nodes(net)</code> - Node count</li>
                        <li><code>n_edges(net)</code> - Edge count</li>
                        <li><code>is_directed(net)</code> - Directedness</li>
                    </ul>
                </div>
                <div>
                    <h4>Setters</h4>
                    <ul>
                        <li><code>set_nodes(net, nodes)</code></li>
                        <li><code>set_edges(net, edges)</code></li>
                        <li><code>set_layout(net, layout)</code></li>
                        <li><code>set_groups(net, groups)</code></li>
                        <li><code>set_raw_data(net, data)</code></li>
                    </ul>
                </div>
            </div>

            <h3>Conversion Functions</h3>
            <table>
                <tr>
                    <th>Function</th>
                    <th>Output</th>
                </tr>
                <tr><td><code>to_igraph(x)</code></td><td>igraph object</td></tr>
                <tr><td><code>to_matrix(x)</code></td><td>Adjacency matrix</td></tr>
                <tr><td><code>to_data_frame(x)</code> / <code>to_df(x)</code></td><td>Edge list data frame</td></tr>
                <tr><td><code>to_network(x)</code></td><td>statnet network object</td></tr>
            </table>
        </section>

        <!-- Centrality Section -->
        <section id="centrality">
            <h2>Centrality Measures</h2>

<pre><code><span class="comment"># Calculate all centralities</span>
<span class="function">centrality</span>(net)

<span class="comment"># Specific measures only</span>
<span class="function">centrality</span>(net, measures = <span class="function">c</span>(<span class="string">"degree"</span>, <span class="string">"betweenness"</span>, <span class="string">"pagerank"</span>))

<span class="comment"># For directed networks</span>
<span class="function">centrality</span>(net, mode = <span class="string">"in"</span>)   <span class="comment"># In-degree, in-strength, etc.</span>
<span class="function">centrality</span>(net, mode = <span class="string">"out"</span>)  <span class="comment"># Out-degree, out-strength, etc.</span>

<span class="comment"># Normalized (0-1 range)</span>
<span class="function">centrality</span>(net, normalized = <span class="keyword">TRUE</span>)</code></pre>

            <h3>Available Measures</h3>
            <table>
                <tr><th>Measure</th><th>Function</th><th>Description</th><th>Mode?</th></tr>
                <tr><td>Degree</td><td><code>centrality_degree()</code></td><td>Count of edges</td><td>in/out/all</td></tr>
                <tr><td>Strength</td><td><code>centrality_strength()</code></td><td>Weighted degree</td><td>in/out/all</td></tr>
                <tr><td>Betweenness</td><td><code>centrality_betweenness()</code></td><td>Shortest path centrality</td><td>-</td></tr>
                <tr><td>Closeness</td><td><code>centrality_closeness()</code></td><td>Inverse distance</td><td>in/out/all</td></tr>
                <tr><td>Eigenvector</td><td><code>centrality_eigenvector()</code></td><td>Influence-based</td><td>-</td></tr>
                <tr><td>PageRank</td><td><code>centrality_pagerank()</code></td><td>Random walk</td><td>-</td></tr>
                <tr><td>Authority</td><td><code>centrality_authority()</code></td><td>HITS authority</td><td>-</td></tr>
                <tr><td>Hub</td><td><code>centrality_hub()</code></td><td>HITS hub</td><td>-</td></tr>
                <tr><td>Eccentricity</td><td><code>centrality_eccentricity()</code></td><td>Max distance</td><td>in/out/all</td></tr>
                <tr><td>Coreness</td><td><code>centrality_coreness()</code></td><td>K-core membership</td><td>in/out/all</td></tr>
                <tr><td>Constraint</td><td><code>centrality_constraint()</code></td><td>Structural holes</td><td>-</td></tr>
                <tr><td>Transitivity</td><td><code>centrality_transitivity()</code></td><td>Clustering coefficient</td><td>-</td></tr>
            </table>
        </section>

        <!-- TNA Integration Section -->
        <section id="tna">
            <h2>TNA Integration</h2>

            <p>cograph is designed with the <code>tna</code> (Transition Network Analysis) package as a primary use case.</p>

<pre><code><span class="keyword">library</span>(tna)
model <- <span class="function">tna</span>(engagement_data)

<span class="comment"># Direct plotting - just works</span>
<span class="function">splot</span>(model)

<span class="comment"># Or convert first for more control</span>
net <- <span class="function">as_cograph</span>(model)
<span class="function">splot</span>(net,
      donut_fill = model$inits,  <span class="comment"># Initial probabilities</span>
      node_fill = <span class="function">attr</span>(model$data, <span class="string">"colors"</span>))</code></pre>

            <h3>TNA Helper Functions</h3>
            <table>
                <tr>
                    <th>Function</th>
                    <th>Purpose</th>
                </tr>
                <tr>
                    <td><code>is_tna_network(net)</code></td>
                    <td>Check if network originated from TNA object</td>
                </tr>
                <tr>
                    <td><code>get_tna_model(net)</code></td>
                    <td>Retrieve original tna object for further analysis</td>
                </tr>
                <tr>
                    <td><code>get_raw_data(net)</code></td>
                    <td>Get raw sequence data</td>
                </tr>
                <tr>
                    <td><code>set_raw_data(net, data)</code></td>
                    <td>Attach raw data to enable validation</td>
                </tr>
            </table>

            <h3>group_tna Support</h3>
<pre><code><span class="comment"># Create group TNA model</span>
group_model <- <span class="function">group_tna</span>(data, group = <span class="string">"cluster"</span>)

<span class="comment"># Plot individual groups</span>
<span class="function">splot</span>(group_model, i = <span class="number">1</span>)  <span class="comment"># First group</span>
<span class="function">splot</span>(group_model, i = <span class="string">"high"</span>)  <span class="comment"># By name</span>

<span class="comment"># Compare groups</span>
<span class="function">plot_compare</span>(group_model)  <span class="comment"># All pairs</span>
<span class="function">plot_compare</span>(group_model, i = <span class="number">1</span>, j = <span class="number">2</span>)  <span class="comment"># Specific pair</span>

<span class="comment"># Bootstrap each group</span>
<span class="function">bootstrap</span>(group_model, i = <span class="number">1</span>)</code></pre>

            <h3>Preserved TNA Fields</h3>
            <table>
                <tr><th>Field</th><th>Access</th></tr>
                <tr><td>Transition weights</td><td><code>net$weights</code></td></tr>
                <tr><td>Initial probabilities</td><td><code>net$nodes$inits</code></td></tr>
                <tr><td>State labels</td><td><code>net$labels</code></td></tr>
                <tr><td>Original model</td><td><code>get_tna_model(net)</code></td></tr>
                <tr><td>State colors</td><td><code>attr(get_tna_model(net)$data, "colors")</code></td></tr>
            </table>
        </section>

        <!-- Themes Section -->
        <section id="themes">
            <h2>Themes & Palettes</h2>

            <h3>Built-in Themes</h3>
            <table>
                <tr><th>Theme</th><th>Usage</th><th>Description</th></tr>
                <tr><td>Classic</td><td><code>splot(net, theme = "classic")</code></td><td>White bg, blue nodes (default)</td></tr>
                <tr><td>Dark</td><td><code>splot(net, theme = "dark")</code></td><td>Dark bg, light elements</td></tr>
                <tr><td>Minimal</td><td><code>splot(net, theme = "minimal")</code></td><td>Subtle, clean</td></tr>
                <tr><td>Colorblind</td><td><code>splot(net, theme = "colorblind")</code></td><td>CVD-friendly colors</td></tr>
                <tr><td>Gray</td><td><code>splot(net, theme = "gray")</code></td><td>Print-friendly B&W</td></tr>
                <tr><td>Nature</td><td><code>splot(net, theme = "nature")</code></td><td>Earth tones</td></tr>
                <tr><td>Viridis</td><td><code>splot(net, theme = "viridis")</code></td><td>Viridis colors</td></tr>
            </table>

            <h3>Built-in Palettes</h3>
            <table>
                <tr><th>Palette</th><th>Function</th><th>Best For</th></tr>
                <tr><td>Viridis</td><td><code>palette_viridis(n)</code></td><td>Perceptually uniform, colorblind-safe</td></tr>
                <tr><td>Colorblind</td><td><code>palette_colorblind(n)</code></td><td>Wong's accessible colors</td></tr>
                <tr><td>Pastel</td><td><code>palette_pastel(n)</code></td><td>Soft, gentle visualization</td></tr>
                <tr><td>Rainbow</td><td><code>palette_rainbow(n)</code></td><td>Maximum distinction</td></tr>
                <tr><td>Blues/Reds</td><td><code>palette_blues(n)</code></td><td>Sequential single-hue</td></tr>
                <tr><td>Diverging</td><td><code>palette_diverging(n)</code></td><td>Positive/negative values</td></tr>
            </table>

<pre><code><span class="comment"># Apply palette by attribute</span>
<span class="function">cograph</span>(mat) |>
  <span class="function">sn_palette</span>(<span class="string">"viridis"</span>, target = <span class="string">"nodes"</span>, by = <span class="string">"degree"</span>) |>
  <span class="function">splot</span>()

<span class="comment"># Register custom theme</span>
<span class="function">register_theme</span>(<span class="string">"mytheme"</span>, <span class="function">list</span>(
  background = <span class="string">"#1a1a2e"</span>,
  node_fill = <span class="string">"#e94560"</span>,
  edge_color = <span class="string">"#0f3460"</span>
))</code></pre>
        </section>

        <!-- Architecture Section -->
        <section id="architecture">
            <h2>Architecture</h2>

            <h3>Processing Pipeline</h3>
<div class="arch-diagram">
Input  Parse  Layout  Style  Render
                                  
                                  
matrix   parse_   layout_  sn_*()   splot()
tna      matrix() spring()          soplot()
igraph   parse_   layout_           sn_ggplot()
df       tna()    circle()
</div>

            <h3>Class System</h3>
            <table>
                <tr><th>Class</th><th>Type</th><th>Purpose</th></tr>
                <tr>
                    <td><code>cograph_network</code></td>
                    <td>S3 (list)</td>
                    <td>User-facing network object with $ access</td>
                </tr>
                <tr>
                    <td><code>CographNetwork</code></td>
                    <td>R6</td>
                    <td>Internal mutable state for layout computation</td>
                </tr>
                <tr>
                    <td><code>CographLayout</code></td>
                    <td>R6</td>
                    <td>Layout algorithm management</td>
                </tr>
                <tr>
                    <td><code>CographTheme</code></td>
                    <td>R6</td>
                    <td>Visual theme parameters</td>
                </tr>
            </table>

            <h3>Registry Functions</h3>
            <table>
                <tr><th>Function</th><th>Purpose</th></tr>
                <tr><td><code>register_layout(name, fn)</code></td><td>Add custom layout algorithm</td></tr>
                <tr><td><code>register_shape(name, fn)</code></td><td>Add custom node shape</td></tr>
                <tr><td><code>register_svg_shape(name, path)</code></td><td>Add SVG-based shape</td></tr>
                <tr><td><code>register_theme(name, params)</code></td><td>Add custom theme</td></tr>
                <tr><td><code>list_layouts()</code></td><td>Show available layouts</td></tr>
                <tr><td><code>list_shapes()</code></td><td>Show available shapes</td></tr>
                <tr><td><code>list_themes()</code></td><td>Show available themes</td></tr>
            </table>

            <h3>Available Layouts</h3>
            <table>
                <tr><th>Layout</th><th>Aliases</th><th>Description</th></tr>
                <tr><td><code>"spring"</code></td><td>"fr"</td><td>Force-directed (Fruchterman-Reingold)</td></tr>
                <tr><td><code>"circle"</code></td><td>-</td><td>Circular arrangement</td></tr>
                <tr><td><code>"oval"</code></td><td>"ellipse"</td><td>Elliptical arrangement</td></tr>
                <tr><td><code>"groups"</code></td><td>-</td><td>Grouped circular</td></tr>
                <tr><td><code>"grid"</code></td><td>-</td><td>Regular grid</td></tr>
                <tr><td><code>"star"</code></td><td>-</td><td>Center + ring</td></tr>
                <tr><td><code>"kk"</code></td><td>-</td><td>Kamada-Kawai (igraph)</td></tr>
                <tr><td><code>"drl"</code></td><td>-</td><td>DrL (igraph)</td></tr>
                <tr><td><code>"mds"</code></td><td>-</td><td>MDS (igraph)</td></tr>
            </table>
        </section>

        <footer>
            <p>cograph v1.5.2 | Author: Mohammed Saqr | <a href="https://github.com/mohsaqr/cograph">GitHub</a></p>
            <p>Generated: February 2026</p>
        </footer>
    </div>
</body>
</html>
