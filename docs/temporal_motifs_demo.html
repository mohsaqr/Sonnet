
<!DOCTYPE html>
<html>
<head>
  <title>Temporal Motif Analysis Demo</title>
  <style>
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
           max-width: 1000px; margin: 40px auto; padding: 20px; background: #f5f5f5; }
    h1 { color: #800020; border-bottom: 2px solid #800020; padding-bottom: 10px; }
    h2 { color: #333; margin-top: 30px; }
    .card { background: white; border-radius: 8px; padding: 20px; margin: 20px 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
    img { max-width: 100%; border-radius: 4px; }
    pre { background: #2d2d2d; color: #f8f8f2; padding: 15px; border-radius: 4px;
          overflow-x: auto; font-size: 13px; }
    code { background: #eee; padding: 2px 6px; border-radius: 3px; }
    .summary { background: #f8f8f8; padding: 15px; border-left: 4px solid #800020; }
    table { border-collapse: collapse; width: 100%; margin: 15px 0; }
    th, td { border: 1px solid #ddd; padding: 8px 12px; text-align: left; }
    th { background: #800020; color: white; }
    tr:nth-child(even) { background: #f9f9f9; }
  </style>
</head>
<body>
  <h1>Temporal Motif Analysis</h1>
  <p>Analysis of network motifs across time windows in the <code>group_regulation</code> dataset.</p>

  <div class="card">
    <h2>Dataset Info</h2>
    <p>The <code>group_regulation</code> dataset contains 2000 individuals observed across 26 time points.</p>
    <p>States represent different regulatory behaviors in collaborative learning.</p>
  </div>

  <div class="card">
    <h2>Usage</h2>
    <pre>
library(cograph)
library(tna)

# Load data
data <- group_regulation

# Extract temporal motifs
m <- extract_motifs_temporal(
  data,
  window_size = 5,   # 5 time points per window
  step = 2,          # sliding by 2 (overlapping windows)
  pattern = "all"    # include all MAN types
)

# View results
print(m)

# Visualize
plot(m, type = "trends")   # Line plot over time
plot(m, type = "heatmap")  # Heatmap view
    </pre>
  </div>

  <div class="card">
    <h2>Results Summary</h2>
    <div class="summary">
      <strong>Windows:</strong> 6 | <strong>Pattern:</strong> all<br>
      <strong>Window size:</strong> 5 | <strong>Step:</strong> 2
    </div>

    <h3>Total Occurrences by Type</h3>
    <table>
      <tr><th>Type</th><th>Count</th></tr>
      <tr><td>210</td><td>6</td></tr>
      <tr><td>300</td><td>6</td></tr>
      <tr><td>120D</td><td>4</td></tr>
      <tr><td>120C</td><td>2</td></tr>
      <tr><td>030T</td><td>1</td></tr>
      <tr><td>120U</td><td>1</td></tr>
    </table>
  </div>

  <div class="card">
    <h2>Motif Trends Over Time</h2>
    <p>Shows how different motif types change in frequency across time windows.</p>
    <img src="demo_plots/trends.png" alt="Motif Trends">
  </div>

  <div class="card">
    <h2>Motif Heatmap</h2>
    <p>Heatmap showing motif counts by type and time window.</p>
    <img src="demo_plots/heatmap.png" alt="Motif Heatmap">
  </div>

  <div class="card">
    <h2>Type Trends Data</h2>
    <pre>  window start end 120D 120U 210 300 030T 120C
1      1     1   5    1    1  17  65    0    0
2      2     3   7    0    0   7  77    0    0
3      3     5   9    1    0  12  71    0    0
4      4     7  11    0    0  18  65    1    0
5      5     9  13    1    0  15  66    0    2
6      6    11  15    1    0  20  60    0    3</pre>
  </div>

  <div class="card" style="background: #fef9e7;">
    <h2>Notes</h2>
    <ul>
      <li><strong>Window</strong>: Each window covers consecutive time points (T1-T5, T3-T7, etc.)</li>
      <li><strong>MAN notation</strong>: Describes triads by Mutual-Asymmetric-Null edge counts</li>
      <li><strong>Common patterns</strong>:
        <ul>
          <li><code>030T</code>: Feed-forward loop (A→B→C, A→C)</li>
          <li><code>030C</code>: Cycle (A→B→C→A)</li>
          <li><code>300</code>: Clique (all pairs mutual)</li>
        </ul>
      </li>
    </ul>
  </div>

</body>
</html>

