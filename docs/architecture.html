<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cograph Architecture</title>
  <style>
    :root {
      --bg: #1a1a2e;
      --card-bg: #16213e;
      --accent: #0f3460;
      --highlight: #e94560;
      --text: #eaeaea;
      --text-dim: #a0a0a0;
      --border: #0f3460;
      --code-bg: #0d1b2a;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
      padding: 2rem;
    }
    .container { max-width: 1200px; margin: 0 auto; }

    h1 {
      font-size: 2.5rem;
      margin-bottom: 0.5rem;
      background: linear-gradient(135deg, var(--highlight), #ff6b6b);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .subtitle {
      color: var(--text-dim);
      font-size: 1.2rem;
      margin-bottom: 2rem;
    }

    h2 {
      color: var(--highlight);
      font-size: 1.5rem;
      margin: 2rem 0 1rem;
      padding-bottom: 0.5rem;
      border-bottom: 2px solid var(--border);
    }

    .stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin-bottom: 2rem;
    }
    .stat-card {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1.5rem;
      text-align: center;
    }
    .stat-value {
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--highlight);
    }
    .stat-label {
      color: var(--text-dim);
      font-size: 0.9rem;
      margin-top: 0.5rem;
    }

    .architecture {
      background: var(--code-bg);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1.5rem;
      overflow-x: auto;
      font-family: "SF Mono", "Fira Code", "Consolas", monospace;
      font-size: 0.8rem;
      line-height: 1.4;
      white-space: pre;
    }

    .layer {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1.5rem;
      margin-bottom: 1.5rem;
    }
    .layer-title {
      color: var(--highlight);
      font-weight: 600;
      font-size: 1.1rem;
      margin-bottom: 1rem;
    }
    .layer-content {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1rem;
    }
    .module {
      background: var(--accent);
      border-radius: 8px;
      padding: 1rem;
    }
    .module-name {
      font-weight: 600;
      color: #fff;
      margin-bottom: 0.5rem;
    }
    .module-files {
      font-family: "SF Mono", monospace;
      font-size: 0.8rem;
      color: var(--text-dim);
    }
    .module-files code {
      display: block;
      padding: 0.2rem 0;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin: 1rem 0;
    }
    th, td {
      padding: 0.75rem 1rem;
      text-align: left;
      border-bottom: 1px solid var(--border);
    }
    th {
      background: var(--accent);
      color: var(--highlight);
      font-weight: 600;
    }
    tr:hover {
      background: var(--card-bg);
    }
    td code {
      background: var(--code-bg);
      padding: 0.2rem 0.5rem;
      border-radius: 4px;
      font-family: "SF Mono", monospace;
      font-size: 0.85rem;
    }

    .flow-diagram {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      align-items: center;
      margin: 2rem 0;
    }
    .flow-box {
      background: var(--card-bg);
      border: 2px solid var(--highlight);
      border-radius: 8px;
      padding: 1rem 2rem;
      text-align: center;
      min-width: 300px;
    }
    .flow-arrow {
      color: var(--highlight);
      font-size: 1.5rem;
    }

    .grid-3 {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1rem;
      margin: 1rem 0;
    }
    @media (max-width: 768px) {
      .grid-3 { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Cograph Architecture</h1>
    <p class="subtitle">Modern Network Visualization for R</p>

    <div class="stats">
      <div class="stat-card">
        <div class="stat-value">78</div>
        <div class="stat-label">Source Files</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">37,441</div>
        <div class="stat-label">Lines of Code</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">12,353</div>
        <div class="stat-label">Tests Passing</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">96%+</div>
        <div class="stat-label">Test Coverage</div>
      </div>
    </div>

    <h2>Data Flow</h2>
    <div class="flow-diagram">
      <div class="flow-box">
        <strong>INPUT</strong><br>
        matrix | igraph | tna | group_tna | qgraph | network | data.frame
      </div>
      <div class="flow-arrow">▼</div>
      <div class="flow-box">
        <strong>CORE</strong><br>
        cograph_network (R6 Class)
      </div>
      <div class="flow-arrow">▼</div>
      <div class="flow-box">
        <strong>TRANSFORM</strong><br>
        Layout + Aesthetics + Analysis
      </div>
      <div class="flow-arrow">▼</div>
      <div class="flow-box">
        <strong>RENDER</strong><br>
        splot() (Base R) | soplot() (Grid)
      </div>
      <div class="flow-arrow">▼</div>
      <div class="flow-box">
        <strong>OUTPUT</strong><br>
        Screen | PNG | PDF | SVG | JPEG | TIFF
      </div>
    </div>

    <h2>Module Architecture</h2>

    <div class="layer">
      <div class="layer-title">INPUT LAYER</div>
      <div class="layer-content">
        <div class="module">
          <div class="module-name">Input Parsers</div>
          <div class="module-files">
            <code>input-matrix.R</code>
            <code>input-edgelist.R</code>
            <code>input-igraph.R</code>
            <code>input-tna.R</code>
            <code>input-qgraph.R</code>
            <code>input-statnet.R</code>
            <code>input-parse.R</code>
          </div>
        </div>
        <div class="module">
          <div class="module-name">Converters</div>
          <div class="module-files">
            <code>from-qgraph.R</code>
            <code>from_tna()</code>
            <code>from_qgraph()</code>
          </div>
        </div>
      </div>
    </div>

    <div class="layer">
      <div class="layer-title">CORE DATA STRUCTURE</div>
      <div class="layer-content">
        <div class="module">
          <div class="module-name">cograph_network (R6)</div>
          <div class="module-files">
            <code>$nodes - data.frame</code>
            <code>$edges - data.frame</code>
            <code>$weights - n×n matrix</code>
            <code>$directed - logical</code>
            <code>$tna - metadata</code>
          </div>
        </div>
        <div class="module">
          <div class="module-name">Constructor</div>
          <div class="module-files">
            <code>cograph.R</code>
            <code>class-network.R</code>
          </div>
        </div>
      </div>
    </div>

    <div class="layer">
      <div class="layer-title">TRANSFORM LAYER</div>
      <div class="layer-content">
        <div class="module">
          <div class="module-name">Layout Engine</div>
          <div class="module-files">
            <code>layout-circle.R</code>
            <code>layout-oval.R</code>
            <code>layout-spring.R</code>
            <code>layout-gephi-fr.R</code>
            <code>layout-groups.R</code>
            <code>layout-registry.R</code>
          </div>
        </div>
        <div class="module">
          <div class="module-name">Aesthetics</div>
          <div class="module-files">
            <code>aes-nodes.R</code>
            <code>aes-edges.R</code>
            <code>aes-scales.R</code>
            <code>palettes.R</code>
            <code>themes-*.R</code>
            <code>shapes-*.R</code>
          </div>
        </div>
        <div class="module">
          <div class="module-name">Analysis</div>
          <div class="module-files">
            <code>centrality.R</code>
            <code>communities.R</code>
            <code>cluster-metrics.R</code>
            <code>network-summary.R</code>
            <code>robustness.R</code>
          </div>
        </div>
        <div class="module">
          <div class="module-name">Motif Analysis (5 files)</div>
          <div class="module-files">
            <code>motifs-data.R &mdash; constants</code>
            <code>motifs.R &mdash; core census</code>
            <code>motifs-extract.R &mdash; extraction</code>
            <code>motifs-plot.R &mdash; visualization</code>
            <code>motifs-temporal.R &mdash; temporal</code>
          </div>
        </div>
      </div>
    </div>

    <div class="layer">
      <div class="layer-title">RENDERING ENGINES</div>
      <div class="layer-content">
        <div class="module">
          <div class="module-name">Base R (splot)</div>
          <div class="module-files">
            <code>splot.R (2,209 LOC)</code>
            <code>splot-nodes.R</code>
            <code>splot-edges.R</code>
            <code>splot-labels.R</code>
            <code>splot-arrows.R</code>
            <code>splot-geometry.R</code>
            <code>splot-polygons.R</code>
          </div>
        </div>
        <div class="module">
          <div class="module-name">Grid (soplot)</div>
          <div class="module-files">
            <code>render-grid.R</code>
            <code>render-nodes.R</code>
            <code>render-edges.R</code>
            <code>render-ggplot.R</code>
          </div>
        </div>
      </div>
    </div>

    <div class="layer">
      <div class="layer-title">SPECIALIZED VISUALIZATIONS</div>
      <div class="layer-content">
        <div class="module">
          <div class="module-name">TNA Integration</div>
          <div class="module-files">
            <code>plot-bootstrap.R</code>
            <code>plot-permutation.R</code>
            <code>plot-transitions.R</code>
            <code>tna-animate.R</code>
          </div>
        </div>
        <div class="module">
          <div class="module-name">Multi-Level/Cluster</div>
          <div class="module-files">
            <code>plot-htna.R</code>
            <code>plot-htna-multi.R</code>
            <code>plot-mcml.R</code>
            <code>plot-timeline.R</code>
            <code>mlna.R</code>
          </div>
        </div>
        <div class="module">
          <div class="module-name">Comparison & Stats</div>
          <div class="module-files">
            <code>plot-compare.R</code>
            <code>plot-heatmap.R</code>
            <code>plot-ml-heatmap.R</code>
            <code>tplot.R</code>
          </div>
        </div>
      </div>
    </div>

    <h2>Key Functions</h2>
    <table>
      <thead>
        <tr>
          <th>Function</th>
          <th>Purpose</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>splot()</code></td>
          <td>Main plotting function (base R graphics)</td>
        </tr>
        <tr>
          <td><code>cograph()</code></td>
          <td>Create network object from any input</td>
        </tr>
        <tr>
          <td><code>plot_compare()</code></td>
          <td>Compare two networks (difference visualization)</td>
        </tr>
        <tr>
          <td><code>plot_bootstrap()</code></td>
          <td>Visualize tna bootstrap results</td>
        </tr>
        <tr>
          <td><code>plot_permutation()</code></td>
          <td>Visualize tna permutation tests</td>
        </tr>
        <tr>
          <td><code>plot_mcml()</code></td>
          <td>Multi-cluster multi-level 3D visualization</td>
        </tr>
        <tr>
          <td><code>plot_htna()</code></td>
          <td>Hierarchical TNA visualization</td>
        </tr>
        <tr>
          <td><code>cluster_summary()</code></td>
          <td>Aggregate network by clusters</td>
        </tr>
        <tr>
          <td><code>extract_motifs()</code></td>
          <td>Triad motif extraction with filtering &amp; significance</td>
        </tr>
        <tr>
          <td><code>motif_census()</code></td>
          <td>Statistical motif analysis against null models</td>
        </tr>
        <tr>
          <td><code>extract_motifs_temporal()</code></td>
          <td>Temporal motif evolution across time windows</td>
        </tr>
        <tr>
          <td><code>triad_persistence()</code></td>
          <td>Track triad persistence, emergence, and fading</td>
        </tr>
        <tr>
          <td><code>plot_time_line()</code></td>
          <td>Cluster timeline with cross-layer connections</td>
        </tr>
      </tbody>
    </table>

    <h2>Largest Files</h2>
    <table>
      <thead>
        <tr>
          <th>File</th>
          <th>Lines</th>
          <th>Purpose</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>splot.R</code></td>
          <td>2,209</td>
          <td>Main base R plotting engine</td>
        </tr>
        <tr>
          <td><code>network-utils.R</code></td>
          <td>2,179</td>
          <td>Network manipulation utilities</td>
        </tr>
        <tr>
          <td><code>cluster-metrics.R</code></td>
          <td>1,820</td>
          <td>Cluster aggregation &amp; metrics</td>
        </tr>
        <tr>
          <td><code>plot-transitions.R</code></td>
          <td>1,605</td>
          <td>Transition visualization</td>
        </tr>
        <tr>
          <td><code>splot-nodes.R</code></td>
          <td>1,359</td>
          <td>Node rendering for splot</td>
        </tr>
        <tr>
          <td><code>shapes-special.R</code></td>
          <td>1,359</td>
          <td>Special node shapes (donut, pie, etc.)</td>
        </tr>
        <tr>
          <td><code>centrality.R</code></td>
          <td>1,332</td>
          <td>Centrality measures</td>
        </tr>
        <tr>
          <td><code>class-network.R</code></td>
          <td>1,158</td>
          <td>Core R6 network class</td>
        </tr>
        <tr>
          <td><code>motifs-temporal.R</code></td>
          <td>1,058</td>
          <td>Temporal motif analysis &amp; persistence</td>
        </tr>
        <tr>
          <td><code>communities.R</code></td>
          <td>1,056</td>
          <td>Community detection</td>
        </tr>
      </tbody>
    </table>

    <h2>Registry System</h2>
    <p style="color: var(--text-dim); margin-bottom: 1rem;">
      Extensible registries initialized in <code>zzz.R</code> via <code>.onLoad()</code>
    </p>
    <div class="grid-3">
      <div class="module">
        <div class="module-name">Shapes</div>
        <div class="module-files">
          <code>register_shape()</code>
          <code>get_shape()</code>
          <code>list_shapes()</code>
        </div>
      </div>
      <div class="module">
        <div class="module-name">Layouts</div>
        <div class="module-files">
          <code>register_layout()</code>
          <code>get_layout()</code>
          <code>list_layouts()</code>
        </div>
      </div>
      <div class="module">
        <div class="module-name">Themes</div>
        <div class="module-files">
          <code>register_theme()</code>
          <code>get_theme()</code>
          <code>list_themes()</code>
        </div>
      </div>
    </div>

    <h2>Dependencies</h2>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Packages</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Required</strong></td>
          <td><code>R6</code>, <code>grDevices</code>, <code>graphics</code>, <code>grid</code></td>
        </tr>
        <tr>
          <td><strong>Suggested</strong></td>
          <td><code>igraph</code>, <code>tna</code>, <code>qgraph</code>, <code>network</code>, <code>ggplot2</code></td>
        </tr>
      </tbody>
    </table>

    <p style="color: var(--text-dim); margin-top: 3rem; text-align: center;">
      cograph v1.6.0 | Generated 2026-02-16
    </p>
  </div>
</body>
</html>
